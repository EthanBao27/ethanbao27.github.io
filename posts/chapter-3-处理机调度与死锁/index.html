<!doctype html>
<html
  lang="zh-cn"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="light"
  data-auto-appearance="true"><head>
  <meta charset="utf-8">
  
    <meta http-equiv="content-language" content="zh-cn">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color">

  
  <title>OS：处理机调度与死锁🔒 &middot; Blowfish</title>
    <meta name="title" content="OS：处理机调度与死锁🔒 &middot; Blowfish">

  
  
  <meta name="keywords" content="操作系统,死锁,复习,">
  
  
  <link rel="canonical" href="https://baoyuxiang.fun/posts/chapter-3-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81/">
  
  
  
  
  
  
  
  
  
  
    
    
  
  
  <link
    type="text/css"
    rel="stylesheet"
    href="/css/main.bundle.min.b72b6119ba892ef380b62c38a2b731762e7b6b4f0ed9f68cc52b0b929f29305a8a8d4794854d033f8791fab5f7bdcda5a0f25409e38506d6976ba035ed202b46.css"
    integrity="sha512-tythGbqJLvOAtiw4orcxdi57a08O2faMxSsLkp8pMFqKjUeUhU0DP4eR&#43;rX3vc2loPJUCeOFBtaXa6A17SArRg==">

  
  
  <script
    type="text/javascript"
    src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
    
    
    
  
  
  
  
  
  
  
  
  
  
    
    <script
      defer
      type="text/javascript"
      id="script-bundle"
      src="/js/main.bundle.min.0ea09b1166a1db6af540bead84729a3fd7be30f0c3c795267cfe8e4e3d0e1d51fabedb42a7f1d84dff73be1a2cfc93cfadbd7e68f616f0d790d283ca028da522.js"
      integrity="sha512-DqCbEWah22r1QL6thHKaP9e&#43;MPDDx5UmfP6OTj0OHVH6vttCp/HYTf9zvhos/JPPrb1&#43;aPYW8NeQ0oPKAo2lIg=="
      data-copy="复制"
      data-copied="已复制"></script>
  
  
    
    <script src="/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js" integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7&#43;kfJ6kKCJxQGC&#43;8wm&#43;Bz9JucDjDTGNew=="></script>
  

  
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
  

  
  
  
  
  
  

  
  <meta property="og:url" content="https://baoyuxiang.fun/posts/chapter-3-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81/">
  <meta property="og:site_name" content="Blowfish">
  <meta property="og:title" content="OS：处理机调度与死锁🔒">
  <meta property="og:description" content="处理机调度与死锁 🔒 # Q:如果系统只有一个 cpu,有两个进程要运行.进程 A 的运行时间将是 1 小时,进程 B 的运行时间是 1 分钟.那么认为操作系统让哪个进程先运行比较合理?
A：与操作系统的调度策略有关，即更重视优先级还是到来顺序、时长等因素。
调度 # 对处理机（CPU）资源进行分配。">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-10-26T13:43:00+08:00">
    <meta property="article:modified_time" content="2024-10-26T13:43:00+08:00">
    <meta property="article:tag" content="操作系统">
    <meta property="article:tag" content="死锁">
    <meta property="article:tag" content="复习">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="OS：处理机调度与死锁🔒">
  <meta name="twitter:description" content="处理机调度与死锁 🔒 # Q:如果系统只有一个 cpu,有两个进程要运行.进程 A 的运行时间将是 1 小时,进程 B 的运行时间是 1 分钟.那么认为操作系统让哪个进程先运行比较合理?
A：与操作系统的调度策略有关，即更重视优先级还是到来顺序、时长等因素。
调度 # 对处理机（CPU）资源进行分配。">

  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "OS：处理机调度与死锁🔒",
    "headline": "OS：处理机调度与死锁🔒",
    
    "abstract": "\u003ch1 class=\u0022relative group\u0022\u003e处理机调度与死锁 🔒 \n    \u003cdiv id=\u0022处理机调度与死锁-\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e5%a4%84%e7%90%86%e6%9c%ba%e8%b0%83%e5%ba%a6%e4%b8%8e%e6%ad%bb%e9%94%81-\u0022 aria-label=\u0022锚点\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003eQ:如果系统只有一个 cpu,有两个进程要运行.进程 A 的运行时间将是 1 小时,进程 B 的运行时间是 1 分钟.那么认为操作系统让哪个进程先运行比较合理?\u003c\/p\u003e\u003c\/blockquote\u003e\n\u003cp\u003eA：与操作系统的调度策略有关，即更重视优先级还是到来顺序、时长等因素。\u003c\/p\u003e\n\n\u003ch2 class=\u0022relative group\u0022\u003e调度 \n    \u003cdiv id=\u0022调度\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline\u0022 href=\u0022#%e8%b0%83%e5%ba%a6\u0022 aria-label=\u0022锚点\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h2\u003e\n\u003cp\u003e对处理机（CPU）资源进行分配。\u003c\/p\u003e",
    "inLanguage": "zh-cn",
    "url" : "https:\/\/baoyuxiang.fun\/posts\/chapter-3-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81\/",
    "author" : {
      "@type": "Person",
      "name": "鲍宇翔"
    },
    "copyrightYear": "2024",
    "dateCreated": "2024-10-26T13:43:00\u002b08:00",
    "datePublished": "2024-10-26T13:43:00\u002b08:00",
    
    "dateModified": "2024-10-26T13:43:00\u002b08:00",
    
    "keywords": ["操作系统","死锁","复习"],
    
    "mainEntityOfPage": "true",
    "wordCount": "338"
  }]
  </script>



  
  
    <meta name="author" content="鲍宇翔">
  
  
    
      
        
      
    
      
        
          <link href="https://github.com/EthanBao27" rel="me">
        
      
    
  

  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>























  
  





  
  

  
  

  
  
    
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
      <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyCSr_B_Pqt5mwlwJtmb_VgtSUa69skfxpo",
      authDomain: "AIzaSyCSr_B_Pqt5mwlwJtmb_VgtSUa69skfxpo",
      projectId: "blog-af2e0",
      storageBucket: "blog-af2e0.firebasestorage.app",
      messagingSenderId: "14729663274",
      appId: "1:14729663274:web:2716a08d9b20872dce0453",
      measurementId: "G-EWXPJ6NSMJ"
    };

    var app = firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var auth = firebase.auth();

  </script>
    
  

  
  
</head>
<body
    class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a
      >
    </div>
    
    
      











<div
  class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0">
  
  

  <div class="flex flex-1 items-center justify-between">
    <nav class="flex space-x-3">
      
        <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">
          Blowfish
        </a>
      
    </nav>
    
  <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">
    
      
        
  <a
  href="/about/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
    <span class="mr-1">
      


    </span>
  
  <p class="text-base font-medium" title="关于我">
    关于
  </p>
</a>



      
        
  <a
  href="/posts/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Posts">
    博客
  </p>
</a>



      
        
  <a
  href="/categories/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Categories">
    分类
  </p>
</a>



      
        
  <a
  href="/tags/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
  <p class="text-base font-medium" title="Tags">
    标签
  </p>
</a>



      
    

    


    
      <button
        id="search-button"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="搜索 (/)">
        

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


      </button>
    

    
      <div class=" flex items-center">
        <button
          id="appearance-switcher"
          aria-label="Dark mode switcher"
          type="button"
          class="text-base hover:text-primary-600 dark:hover:text-primary-400">
          <div class="flex items-center justify-center dark:hidden">
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


          </div>
          <div class="items-center justify-center hidden dark:flex">
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


          </div>
        </button>
      </div>
    
  </nav>

    
  <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">
    <span></span>

    

    
      <button
        id="search-button-mobile"
        aria-label="Search"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400"
        title="搜索 (/)">
        

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


      </button>
    

    
      <button
        id="appearance-switcher-mobile"
        aria-label="Dark mode switcher"
        type="button"
        class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
        <div class="flex items-center justify-center dark:hidden">
          

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


        </div>
        <div class="items-center justify-center hidden dark:flex">
          

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


        </div>
      </button>
    
  </div>

  </div>
  
  <div class="-my-2 md:hidden">
    <div id="menu-button" class="block">
      
        <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
          

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


        </div>
        <div
          id="menu-wrapper"
          class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 pt-[5px]">
          <ul
            class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">
            <li id="menu-close-button">
              <span
                class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


              </span>
            </li>

            
              
  <li class="mt-1">
  <a
    href="/about/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
      <div class="mr-2">
        


      </div>
    
    <p class="text-bg font-bg" title="关于我">
      关于
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/posts/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Posts">
      博客
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/categories/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Categories">
      分类
    </p>
  </a>
</li>



            
              
  <li class="mt-1">
  <a
    href="/tags/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-bg font-bg" title="Tags">
      标签
    </p>
  </a>
</li>



            

          </ul>
          
        </div>
      
    </div>
  </div>

</div>





    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  


  <article>
    


    <header id="single_header" class="mt-5 max-w-prose">
      
        <ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden">
  
  
    
  
    
  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/"
      >鲍宇翔的博客</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="inline">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/posts/"
      >Posts</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

  
  <li class="hidden">
    <a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href="/posts/chapter-3-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E4%B8%8E%E6%AD%BB%E9%94%81/"
      >OS：处理机调度与死锁🔒</a
    ><span class="px-1 text-primary-500">/</span>
  </li>

</ol>


      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        OS：处理机调度与死锁🔒
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  

  
  
    
  

  
    
  

  

  

  
    
  

  
    
  

  
    
  

  
    
  

  

  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2024-10-26T13:43:00&#43;08:00">26 October 2024</time><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">2 分钟</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="views_posts/chapter 3 处理机调度与死锁.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="views"
    >loading</span
  >
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg>
  </span>

</span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span
    id="likes_posts/chapter 3 处理机调度与死锁.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="likes"
    >loading</span
  >
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>

</span>
</span>
<span class="px-2 text-primary-500">&middot;</span><span>
  <button
    id="button_likes"
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    <span id="button_likes_heart" class="inline-block align-text-bottom hidden"
      >

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>


    </span>
    <span id="button_likes_emtpty_heart" class="inline-block align-text-bottom"
      >

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"/></svg>
  </span>

</span
    >
    <span id="button_likes_text">&nbsp;Like</span>
  </button>
</span>
    

    
    
  </div>

  

  
  
    <div class="flex flex-row flex-wrap items-center">
      
        
      
        
          
            
              <span
                class="mr-2 mt-[0.5rem]"
                onclick="window.open(&#34;/categories/os/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    OS
  </span>
</span>

              </span>
            
          
        
      
        
      
        
          
            
              <span
                class="mr-2 mt-[0.5rem]"
                onclick="window.open(&#34;/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    操作系统
  </span>
</span>

              </span>
            
              <span
                class="mr-2 mt-[0.5rem]"
                onclick="window.open(&#34;/tags/%E6%AD%BB%E9%94%81/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    死锁
  </span>
</span>

              </span>
            
              <span
                class="mr-2 mt-[0.5rem]"
                onclick="window.open(&#34;/tags/%E5%A4%8D%E4%B9%A0/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    复习
  </span>
</span>

              </span>
            
          
        
      
    </div>
  

  
  



      </div>

      
      
      
      
      

      

      

        
          
          
<div class="flex author">
  
    
    
      
    
    
      
        
      
      <img
        class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4"
        width="96"
        height="96"
        alt="鲍宇翔"
        src="/img/author_hu_5793907ea6b0ecd0.png">
    
  
  <div class="place-self-center">
    
      <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
        作者
      </div>
      <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
        鲍宇翔
      </div>
    
    
      <div class="text-sm text-neutral-700 dark:text-neutral-400">A little bit about me</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="mailto:522425561@qq.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/EthanBao27"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>

        

        

        
          <div class="mb-5"></div>
        

      

    </header>

    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
        <div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
          <div
            class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky 
              lg:top-10
            
            ">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#调度">调度</a>
      <ul>
        <li><a href="#调度层次">调度层次</a></li>
      </ul>
    </li>
    <li><a href="#1-周转时间-turnaround-time">1. 周转时间 (Turnaround Time)</a></li>
    <li><a href="#2-平均周转时间-average-turnaround-time">2. 平均周转时间 (Average Turnaround Time)</a></li>
    <li><a href="#3-带权周转时间-weighted-turnaround-time">3. 带权周转时间 (Weighted Turnaround Time)</a></li>
    <li><a href="#4-平均带权周转时间-average-weighted-turnaround-time">4. 平均带权周转时间 (Average Weighted Turnaround Time)</a></li>
    <li><a href="#调度算法">调度算法</a>
      <ul>
        <li><a href="#先来先服务fcfs">先来先服务（FCFS）</a></li>
        <li><a href="#短作业进程优先sf">短作业（进程）优先（SF）</a></li>
        <li><a href="#高响应比优先hrn">高响应比优先（HRN）</a></li>
        <li><a href="#最高优先权hpf">最高优先权（HPF）</a></li>
        <li><a href="#时间片轮转rr">时间片轮转（RR）</a></li>
        <li><a href="#多级队列调度">多级队列调度</a></li>
        <li><a href="#多级反馈队列调度算法">多级反馈队列调度算法</a></li>
      </ul>
    </li>
    <li><a href="#死锁">死锁</a>
      <ul>
        <li><a href="#概述">概述</a></li>
        <li><a href="#产生原因">产生原因</a></li>
        <li><a href="#产生死锁必要条件">产生死锁必要条件</a></li>
        <li><a href="#处理死锁的基本方法">处理死锁的基本方法</a></li>
      </ul>
    </li>
    <li><a href="#银行家算法-">银行家算法 🏦</a>
      <ul>
        <li><a href="#安全序列">安全序列</a></li>
        <li><a href="#算法实现">算法实现</a></li>
      </ul>
    </li>
    <li><a href="#解除死锁">解除死锁</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#调度">调度</a>
      <ul>
        <li><a href="#调度层次">调度层次</a></li>
      </ul>
    </li>
    <li><a href="#1-周转时间-turnaround-time">1. 周转时间 (Turnaround Time)</a></li>
    <li><a href="#2-平均周转时间-average-turnaround-time">2. 平均周转时间 (Average Turnaround Time)</a></li>
    <li><a href="#3-带权周转时间-weighted-turnaround-time">3. 带权周转时间 (Weighted Turnaround Time)</a></li>
    <li><a href="#4-平均带权周转时间-average-weighted-turnaround-time">4. 平均带权周转时间 (Average Weighted Turnaround Time)</a></li>
    <li><a href="#调度算法">调度算法</a>
      <ul>
        <li><a href="#先来先服务fcfs">先来先服务（FCFS）</a></li>
        <li><a href="#短作业进程优先sf">短作业（进程）优先（SF）</a></li>
        <li><a href="#高响应比优先hrn">高响应比优先（HRN）</a></li>
        <li><a href="#最高优先权hpf">最高优先权（HPF）</a></li>
        <li><a href="#时间片轮转rr">时间片轮转（RR）</a></li>
        <li><a href="#多级队列调度">多级队列调度</a></li>
        <li><a href="#多级反馈队列调度算法">多级反馈队列调度算法</a></li>
      </ul>
    </li>
    <li><a href="#死锁">死锁</a>
      <ul>
        <li><a href="#概述">概述</a></li>
        <li><a href="#产生原因">产生原因</a></li>
        <li><a href="#产生死锁必要条件">产生死锁必要条件</a></li>
        <li><a href="#处理死锁的基本方法">处理死锁的基本方法</a></li>
      </ul>
    </li>
    <li><a href="#银行家算法-">银行家算法 🏦</a>
      <ul>
        <li><a href="#安全序列">安全序列</a></li>
        <li><a href="#算法实现">算法实现</a></li>
      </ul>
    </li>
    <li><a href="#解除死锁">解除死锁</a></li>
  </ul>
</nav>
  </div>
</details>



            
            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        



        <div class="article-content max-w-prose mb-20">
          
<h1 class="relative group">处理机调度与死锁 🔒 
    <div id="处理机调度与死锁-" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%a4%84%e7%90%86%e6%9c%ba%e8%b0%83%e5%ba%a6%e4%b8%8e%e6%ad%bb%e9%94%81-" aria-label="锚点">#</a>
    </span>        
    
</h1>
<blockquote>
<p>Q:如果系统只有一个 cpu,有两个进程要运行.进程 A 的运行时间将是 1 小时,进程 B 的运行时间是 1 分钟.那么认为操作系统让哪个进程先运行比较合理?</p></blockquote>
<p>A：与操作系统的调度策略有关，即更重视优先级还是到来顺序、时长等因素。</p>

<h2 class="relative group">调度 
    <div id="调度" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e8%b0%83%e5%ba%a6" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>对处理机（CPU）资源进行分配。</p>

<h3 class="relative group">调度层次 
    <div id="调度层次" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e8%b0%83%e5%ba%a6%e5%b1%82%e6%ac%a1" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>高级（作业）调度、中级（内存）调度、低级（进程）调度。</p>
<p>区分主要是运行频率，<strong>低级调度最频繁</strong>，也是重点。</p>
<p>






<figure>
    <img class="my-0 rounded-md" loading="lazy" alt="调度等级" src="/images/diaodu1.png">

  
</figure>
</p>
<p><strong>后备队列</strong>（Spooling Queue 或 Backup Queue）是指操作系统或系统调度过程中用于存放<strong>尚未进入内存执行的进程或任务</strong>的队列。根据实际情况，后备队列可以位于<strong>外存</strong>或与外存相关的区域，而非内存。</p>
<p>作业（Job）：一组需要完成的任务或程序的组合。</p>
<ul>
<li>高级调度：决定哪些后备队列中的（外存中的）作业调入内存并创建进程与分配资源。</li>
<li>中级调度：决定哪些进程<u>可参与竞争 CPU</u>。（内存-&gt;外存）</li>
<li>低级调度：决定哪个进程可以<u>获得 CPU。</u></li>
</ul>
<p>低级调度有两种方式：</p>
<ol>
<li>非抢占式：一直执行完成或自动阻塞。</li>
<li>抢占式：允许其他进程依据一定规则抢占 CPU。</li>
</ol>
<p>（1）时间片原则、（2）优先权原则 、（3）短作业（进程）优先原则</p>
<p>






<figure>
    <img class="my-0 rounded-md" loading="lazy" alt="调度设计" src="/images/diaodu2.png">

  
</figure>
</p>

<h2 class="relative group">1. 周转时间 (Turnaround Time) 
    <div id="1-周转时间-turnaround-time" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#1-%e5%91%a8%e8%bd%ac%e6%97%b6%e9%97%b4-turnaround-time" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>作业（进程）从提交（进入时刻）到完成的时间称为该作业的周转时间 \(T_i\)：</p>
$$
T_i = \text{完成时刻} - \text{进入时刻}
$$
<h2 class="relative group">2. 平均周转时间 (Average Turnaround Time) 
    <div id="2-平均周转时间-average-turnaround-time" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#2-%e5%b9%b3%e5%9d%87%e5%91%a8%e8%bd%ac%e6%97%b6%e9%97%b4-average-turnaround-time" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>平均周转时间为 \(n\) 个作业（进程）周转时间的平均值：</p>
$$
T = \frac{1}{n} \left( \sum_{i=1}^{n} T_i \right)
$$
<h2 class="relative group">3. 带权周转时间 (Weighted Turnaround Time) 
    <div id="3-带权周转时间-weighted-turnaround-time" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3-%e5%b8%a6%e6%9d%83%e5%91%a8%e8%bd%ac%e6%97%b6%e9%97%b4-weighted-turnaround-time" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>作业（进程）周转时间 \(T*i\) 与实际运行时间 \(T*{si}\) 之比称为该作业的带权周转时间 \(W_i\)：</p>
$$
W_i = \frac{T_i}{T_{si}}
$$
<h2 class="relative group">4. 平均带权周转时间 (Average Weighted Turnaround Time) 
    <div id="4-平均带权周转时间-average-weighted-turnaround-time" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#4-%e5%b9%b3%e5%9d%87%e5%b8%a6%e6%9d%83%e5%91%a8%e8%bd%ac%e6%97%b6%e9%97%b4-average-weighted-turnaround-time" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>平均带权周转时间为 \(n\) 个作业（进程）带权周转时间的平均值：</p>
$$
W = \frac{1}{n} \left( \sum_{i=1}^{n} \frac{T_i}{T_{si}} \right)
$$
<h2 class="relative group">调度算法 
    <div id="调度算法" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e8%b0%83%e5%ba%a6%e7%ae%97%e6%b3%95" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>根据系统的资源分配策略所规定的资源分配方法</p>
<ol>
<li>

<h3 class="relative group">先来先服务（FCFS） 
    <div id="先来先服务fcfs" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%85%88%e6%9d%a5%e5%85%88%e6%9c%8d%e5%8a%a1fcfs" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 作业调度：从后背队列选择一个或多个最先进入队列的作业</p>
<ol start="2">
<li>

<h3 class="relative group">短作业（进程）优先（SF） 
    <div id="短作业进程优先sf" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e7%9f%ad%e4%bd%9c%e4%b8%9a%e8%bf%9b%e7%a8%8b%e4%bc%98%e5%85%88sf" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>从就绪队列中选择 CPU 执行时间最短的作业</p>
</li>
<li>

<h3 class="relative group">高响应比优先（HRN） 
    <div id="高响应比优先hrn" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e9%ab%98%e5%93%8d%e5%ba%94%e6%af%94%e4%bc%98%e5%85%88hrn" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 选择待调度的作业中响应比最高的</p>
$$
R_p = \frac{W_i + S_i}{S_i}
$$<p>​ Rp:响应比</p>
<p>​ Wi：已等待时间</p>
<p>​ Si：要求服务时间</p>
<ol start="4">
<li>

<h3 class="relative group">最高优先权（HPF） 
    <div id="最高优先权hpf" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e6%9c%80%e9%ab%98%e4%bc%98%e5%85%88%e6%9d%83hpf" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 选择优先权最高的，其中又分为：</p>
<p>​ <strong>静态优先权</strong></p>
<p>​ <strong>动态优先权</strong></p>
<ol start="5">
<li>

<h3 class="relative group">时间片轮转（RR） 
    <div id="时间片轮转rr" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e6%97%b6%e9%97%b4%e7%89%87%e8%bd%ae%e8%bd%acrr" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 每次为一个进程执行一个时间片 T</p>
<ol start="6">
<li>

<h3 class="relative group">多级队列调度 
    <div id="多级队列调度" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%a4%9a%e7%ba%a7%e9%98%9f%e5%88%97%e8%b0%83%e5%ba%a6" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 将就绪队列分为多种不同队列，不同队列使用不同调度算法</p>
<p>​ 






<figure>
    <img class="my-0 rounded-md" loading="lazy" alt="img" src="/images/diaodu0.png">

  
</figure>
</p>
<ol start="7">
<li>

<h3 class="relative group">多级反馈队列调度算法 
    <div id="多级反馈队列调度算法" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%a4%9a%e7%ba%a7%e5%8f%8d%e9%a6%88%e9%98%9f%e5%88%97%e8%b0%83%e5%ba%a6%e7%ae%97%e6%b3%95" aria-label="锚点">#</a>
    </span>        
    
</h3>
</li>
</ol>
<p>​ 设置多个就绪队列，从高到低赋予不同优先级，每个队列采用 RR 算法，时间片长度依次增加。</p>

<h2 class="relative group">死锁 
    <div id="死锁" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e6%ad%bb%e9%94%81" aria-label="锚点">#</a>
    </span>        
    
</h2>

<h3 class="relative group">概述 
    <div id="概述" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e6%a6%82%e8%bf%b0" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>死锁</strong>是指多个进程因竞争资源而造成的一种僵局，若无外力作用，这些进程都将永远不能再向前进。</p>

<h3 class="relative group">产生原因 
    <div id="产生原因" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%ba%a7%e7%94%9f%e5%8e%9f%e5%9b%a0" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ol>
<li><strong>资源竞争</strong></li>
</ol>
<ul>
<li>
<p>当两个或以上进程需要两个或以上资源(非剥夺性资源 or 临时性资源)：</p>
<ol>
<li>可剥夺性资源</li>
<li>非剥夺性资源</li>
<li>临时性资源：由某进程产生，由另一进程使用的资源。（信号量）</li>
</ol>
</li>
</ul>
<ol start="2">
<li>
<p><strong>进程推进非法</strong></p>
<p>请求和释放资源的顺序不当。</p>
</li>
</ol>

<h3 class="relative group">产生死锁必要条件 
    <div id="产生死锁必要条件" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%ba%a7%e7%94%9f%e6%ad%bb%e9%94%81%e5%bf%85%e8%a6%81%e6%9d%a1%e4%bb%b6" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ol>
<li>
<p>互斥条件：请求的资源为<strong>临界资源</strong></p>
<p><strong>临界资源（Critical Resource）</strong>：指<strong>多个进程或线程在同一时间只能由一个进程使用</strong>的资源。对这种资源的访问必须受到严格的控制，以防止数据<strong>不一致</strong>或<strong>竞争</strong>问题的发生。典型的临界资源包括<strong>共享内存、文件、数据库</strong>等。</p>
<blockquote>
<p>可见，访问临界资源必须要有<strong>同步或互斥机制（同步：信号量，互斥：锁）！！</strong></p></blockquote>
</li>
<li>
<p>请求和保持条件：申请新资源，保持旧资源</p>
</li>
<li>
<p>不剥夺条件：已获得的资源，在使用完之前，不被外力剥夺。</p>
</li>
<li>
<p>环路等待条件：互相等待资源</p>
</li>
</ol>

<h3 class="relative group">处理死锁的基本方法 
    <div id="处理死锁的基本方法" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%a4%84%e7%90%86%e6%ad%bb%e9%94%81%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%96%b9%e6%b3%95" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ol>
<li>预防死锁：设置限制条件，破坏死锁产生</li>
<li>避免死锁：资源分配的动态方法</li>
<li>检测死锁：采取措施，解除死锁</li>
<li>解除死锁：剥夺资源或撤销进程回收 ♻️ 资源</li>
</ol>

<h2 class="relative group">银行家算法 🏦 
    <div id="银行家算法-" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e9%93%b6%e8%a1%8c%e5%ae%b6%e7%ae%97%e6%b3%95-" aria-label="锚点">#</a>
    </span>        
    
</h2>

<h3 class="relative group">安全序列 
    <div id="安全序列" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%ae%89%e5%85%a8%e5%ba%8f%e5%88%97" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>安全状态，是指系统能按某种进程顺序(P1, P2, …，Pn)(称〈P1, P2, …, Pn〉序列为安全序列)，来为每个进程 Pi 分配其所需资源，直至满足每个进程对资源的最大需求，使每个进程都可顺利地完成。如果系统无法找到这样一个安全序列，则称系统处于不安全状态。</p>
<p>​ • <strong>可用资源</strong>：目前系统中剩余的可用资源数量。</p>
<p>​ • <strong>最大需求</strong>：每个进程所需的最大资源量。</p>
<p>​ • <strong>已分配资源</strong>：每个进程当前占用的资源量。</p>
<p>需求 = <strong>最大需求</strong> - <strong>已分配资源</strong></p>
<p>要找到一个<strong>安全序列</strong>，需要按照银行家算法，依次寻找一个可以满足当前可用资源条件的进程，完成该进程后，释放其资源，增加可用资源。重复这个过程，直到所有进程都完成。</p>

<h3 class="relative group">算法实现 
    <div id="算法实现" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e7%ae%97%e6%b3%95%e5%ae%9e%e7%8e%b0" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>核心：根据系统是否处于安全状态，来决定分配资源与否。</p>
<p>对于银行家算法的具体实现主要由以下几个数据结构：</p>
<p>1、可利用资源向量 Available：</p>
<p>一个含有 m 个元素的数组，其中的每一个元素代表一类可利用的资源数目</p>
<p>2、最大需求矩阵 Max：</p>
<p>一个 n×m 的矩阵，它定义了系统中 n 个进程中的每一个进程对 m 类资源的最大需求</p>
<p>3、分配矩阵 Allocation：</p>
<p>一个 n×m 的矩阵，它定义了系统中每一类资源当前已分配给每一进程的资源数</p>
<p>4、需求矩阵 Need：</p>
<p>一个 n×m 的矩阵，用以表示每一个进程还需的各类资源数</p>
<p>Need［i,j］=Max［i,j］-Allocation［i,j］</p>
<p>






<figure>
    <img class="my-0 rounded-md" loading="lazy" alt="银行家算法" src="/images/bank.png">

  
</figure>
</p>
<p>设 Requesti 是进程 Pi 的请求向量，如果 Requesti［j］=K，表示进程 Pi 需要 K 个 Rj 类型的资源。当 Pi 发出资源请求后，系统按下述步骤进行检查：</p>
<p>(1) 如果 Requesti［j］≤Need［i,j］，便转向步骤 2；否则认为出错，因为它所需要的资源数已超过它所宣布的最大值。</p>
<p>(2) 如果 Requesti［j］≤Available［j］，便转向步骤(3)；否则， 表示尚无足够资源，Pi 须等待。</p>
<p>(3) 系统试探着把资源分配给进程 Pi，并修改下面数据结构中的数值：</p>
<p>① Available［j］∶=Available［j］-Requesti［j］;</p>
<p>② Allocation［i,j］∶=Allocation［i,j］+Requesti［j］;</p>
<p>③ Need［i,j］∶=Need［i,j］-Requesti［j］;</p>
<p>(4) 系统执行安全性算法，检查此次资源分配后，系统是否处于安全状态。若安全，才正式将资源分配给进程 Pi，以完成本次分配；否则， 将本次的试探分配作废，恢复原来的资源分配状态，让进程 Pi 等待。
对于系统整体安全状态的检查，引入安全性算法，核心实现如下：</p>
<blockquote>
<p>(1) 设置两个向量：① 工作向量 Work: 它表示系统可提供给进程继续运行所需的各类资源数目，它含有 m 个元素，在执行安全算法开始时，Work∶=Available; ② Finish: 它表示系统是否有足够的资源分配给进程，使之运行完成。开始时先做 Finish［i］∶=false; 当有足够资源分配给进程时， 再令 Finish［i］∶=true。
(2) 从进程集合中找到一个能满足下述条件的进程：  ① Finish［i］=false; ② Need［i,j］≤Work［j］； 若找到， 执行步骤(3)， 否则，执行步骤(4)。<br>
(3) 当进程 Pi 获得资源后，可顺利执行，直至完成，并释放出分配给它的资源，故应执行： Work［j］∶=Work［i］+Allocation［i,j］; Finish［i］∶=true; go to step 2;
(4) 如果所有进程的 Finish［i］=true 都满足， 则表示系统处于安全状态；否则，系统处于不安全状态。</p></blockquote>
<p>银行家算法的缺点如下：</p>
<p>1.很少有进程能够在运行前就知道其所需资源的最大值</p>
<p>2.而且进程数也不是固定的，往往在不断地变化（如新用户登录或退出）</p>
<p>3.原本可用的资源也可能突然间变成不可用（如磁带机可能坏掉）</p>
<p>4.银行家算法的开销较大，实时性不是很好</p>

<h2 class="relative group">解除死锁 
    <div id="解除死锁" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e8%a7%a3%e9%99%a4%e6%ad%bb%e9%94%81" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>利用死锁定理</p>
<p>






<figure>
    <img class="my-0 rounded-md" loading="lazy" alt="死锁解除" src="/images/diaodu3.png">

  
</figure>
</p>
<p>对于死锁的解除，即**（1）剥夺资源，(2) 撤消进程**。</p>
<p>实用而又简便的方法是： <strong>逐个</strong>撤消那些<strong>代价最小</strong>的进程，或者，使<strong>撤消进程的数量最少</strong>，直至获得为解除死锁所需要的足够可用的资源。</p>

          
          
          
        </div>

        

        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js"
          integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA=="
          data-oid="views_posts/chapter 3 处理机调度与死锁.md"
          data-oid-likes="likes_posts/chapter 3 处理机调度与死锁.md"></script>
      

    </section>
    <footer class="pt-8 max-w-prose print:hidden">
      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600">
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/posts/%E6%9C%80%E5%B8%B8%E8%A7%81%E7%9A%84%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95jpeg/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >最常见的图像压缩算法：JPEG</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-10-22T16:22:03&#43;08:00">22 October 2024</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/posts/%E4%BA%94%E5%B1%82%E7%BB%93%E6%9E%84%E5%8D%8F%E8%AE%AE%E5%A4%8D%E4%B9%A0/">
              <span class="flex flex-col">
                <span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >🛜五层体系结构协议复习</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-10-27T20:00:00&#43;08:00">27 October 2024</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


      
    </footer>
  </article>

        <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a
    href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="返回顶部"
    title="返回顶部">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          &copy;
          2025
          鲍宇翔
      </p>
    

    
    
      <p class="text-xs text-neutral-500 dark:text-neutral-400">
        
        
        由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> 强力驱动
      </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script> 
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500"
  data-url="https://baoyuxiang.fun/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="搜索"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="关闭 (Esc)">
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
